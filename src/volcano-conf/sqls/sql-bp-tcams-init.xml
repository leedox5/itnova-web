<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init" data-source="tcamsDS">
 <sql id="TABLE">
  <![CDATA[
WITH T1 (
  PKMS_CORP_CODE
 ,PKMS_COME_CODE
 ,PKMS_TABL_ID
 ,PKMS_SORT_NUMB
 ,PKMS_TABL_NAME
 ,PKMS_UPDT_DATE
 ,PKMS_UPDT_CMAN
 ,PKMS_INIT_DATE
 ,PKMS_INIT_CMAN
) AS (
       SELECT 'K1', 'C', 'ESACDDT' ,  1, null, '20240430', 'SYSTEMPG', '20240430', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESACDDL' ,  2, null, '20240430', 'SYSTEMPG', '20240430', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'D', 'ESFRSLN' ,  3, null, '20240430', 'SYSTEMPG', '20240430', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'D', 'ESAUSER' ,  4, null, '20240501', 'SYSTEMPG', '20240501', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAPCOG' ,  5, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAJOBM' ,  6, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAJOBU' ,  7, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAOGMG' ,  8, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESMVDGL' ,  9, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAAURP' , 10, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAOOMG' , 11, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAAUMM' , 12, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAAUML' , 13, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
 UNION SELECT 'K1', 'C', 'ESAAURF' , 14, null, '20240502', 'SYSTEMPG', '20240502', 'SYSTEMPG' FROM DUAL
)
SELECT CASE WHEN B.TABLE_NAME IS NOT NULL THEN 'Y' ELSE 'N' END CREATED_YN
      ,D.CREATED
      ,A.*
  FROM T1 A
      LEFT OUTER JOIN 
       USER_TABLES B
      ON B.TABLE_NAME = A.PKMS_TABL_ID
      LEFT OUTER JOIN 
       USER_TAB_COMMENTS C
      ON C.TABLE_NAME = A.PKMS_TABL_ID
      LEFT OUTER JOIN
       USER_OBJECTS D
      ON D.OBJECT_NAME = B.TABLE_NAME
 ORDER BY A.PKMS_SORT_NUMB     
  ]]>
 </sql>
 <sql id="TYPE">
  <![CDATA[
WITH T1 (
  C1
 ,C2
) AS (
 SELECT 1, 'ORG_INFO' FROM DUAL
)
SELECT CASE WHEN B.OBJECT_NAME IS NULL THEN 'N' ELSE 'Y' END CREATED_YN
      ,B.STATUS
      ,A.*
  FROM T1 A
      LEFT OUTER JOIN
       USER_OBJECTS B
      ON B.OBJECT_NAME = A.C2
  ]]>
 </sql> 
 <sql id="PROC">
  <![CDATA[
WITH T1 (
  C1
 ,C2
) AS (
       SELECT 1, 'FC_GET_OG_INFO' FROM DUAL
 UNION SELECT 2, 'FC_COMP_CUR'    FROM DUAL
 UNION SELECT 3, 'FC_GET_NAME'    FROM DUAL
)
SELECT CASE WHEN B.OBJECT_NAME IS NULL THEN 'N' ELSE 'Y' END CREATED_YN
      ,B.STATUS
      ,A.*
  FROM T1 A
      LEFT OUTER JOIN
       USER_OBJECTS B
      ON B.OBJECT_NAME = A.C2
  ]]>
 </sql> 
 <sql id="ERROR">
  <![CDATA[
SELECT B.TEXT TEXT_SRC
      ,A.*
  FROM USER_ERRORS A
      LEFT OUTER JOIN
       USER_SOURCE B
      ON    B.NAME = A.NAME
        AND B.TYPE = A.TYPE
        AND B.LINE = A.LINE
 WHERE A.NAME = #c2#  
 ORDER BY A.SEQUENCE
  ]]>
 </sql>
</sql-descriptor>