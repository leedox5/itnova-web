<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init/ESACDDL" data-source="tcamsDS">

 <sql id="CREATE">
  <![CDATA[
CREATE TABLE ESACDDL(
 SYS_ID VARCHAR(18),
 LANG_CD VARCHAR(18),
 GRP_CD VARCHAR(18),
 DTL_CD VARCHAR(18),
 DTL_CD_NM VARCHAR(120),
 DTL_CD_USE1 VARCHAR(60),
 DTL_CD_USE2 VARCHAR(60),
 DTL_CD_USE3 VARCHAR(60),
 DTL_CD_USE4 VARCHAR(60),
 DTL_CD_USE5 VARCHAR(60),
 REM VARCHAR(300),
 STS CHAR(1),
 REG_ID VARCHAR(18),
 REG_DT TIMESTAMP(0) WITH TIME ZONE(17),
 MOD_ID VARCHAR(18),
 MOD_DT TIMESTAMP(0) WITH TIME ZONE(17),
 CONSTRAINT ESACDDL_PK PRIMARY KEY (
  SYS_ID,
  LANG_CD,
  GRP_CD,
  DTL_CD
 )
)  
  ]]>
 </sql>

 <sql id="COLS">
  <![CDATA[
WITH T01(C01, C02, C03, C04, C05) AS (
       SELECT 1, 'ESACDDL' , 'SYS_ID', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 2, 'ESACDDL' , 'LANG_CD', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 3, 'ESACDDL' , 'GRP_CD', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 4, 'ESACDDL' , 'DTL_CD', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 5, 'ESACDDL' , 'DTL_CD_NM', 'VARCHAR', 120 FROM DUAL
 UNION SELECT 6, 'ESACDDL' , 'DTL_CD_USE1', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 7, 'ESACDDL' , 'DTL_CD_USE2', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 8, 'ESACDDL' , 'DTL_CD_USE3', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 9, 'ESACDDL' , 'DTL_CD_USE4', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 10, 'ESACDDL' , 'DTL_CD_USE5', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 11, 'ESACDDL' , 'REM', 'VARCHAR', 300 FROM DUAL
 UNION SELECT 12, 'ESACDDL' , 'STS', 'CHAR', 1 FROM DUAL
 UNION SELECT 13, 'ESACDDL' , 'REG_ID', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 14, 'ESACDDL' , 'REG_DT', 'TIMESTAMP(0) WITH TIME ZONE', 17 FROM DUAL
 UNION SELECT 15, 'ESACDDL' , 'MOD_ID', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 16, 'ESACDDL' , 'MOD_DT', 'TIMESTAMP(0) WITH TIME ZONE', 17 FROM DUAL
)
SELECT CASE WHEN B.COLUMN_NAME IS NULL THEN 'N' ELSE 'Y' END CHK_YN
      ,A.*
  FROM T01 A
      LEFT OUTER JOIN
       USER_TAB_COLUMNS B
      ON    B.TABLE_NAME  = A.C02
        AND B.COLUMN_NAME = A.C03
 ORDER BY A.C01         
  ]]>
 </sql>

 <sql id="DESC">
  <![CDATA[
WITH T01(C01, C02, C03) AS (
       SELECT 1, 'SYS_ID', '시스템 아이디' FROM DUAL
 UNION SELECT 2, 'LANG_CD', '다국어 코드' FROM DUAL
 UNION SELECT 3, 'GRP_CD', '그룹 코드' FROM DUAL
 UNION SELECT 4, 'DTL_CD', '상세 코드' FROM DUAL
 UNION SELECT 5, 'DTL_CD_NM', '상세 코드 명 ' FROM DUAL
 UNION SELECT 6, 'DTL_CD_USE1', '상세 코드 예비1 ' FROM DUAL
 UNION SELECT 7, 'DTL_CD_USE2', '상세 코드 예비2 ' FROM DUAL
 UNION SELECT 8, 'DTL_CD_USE3', '상세 코드 예비3 ' FROM DUAL
 UNION SELECT 9, 'DTL_CD_USE4', '상세 코드 예비4 ' FROM DUAL
 UNION SELECT 10, 'DTL_CD_USE5', '상세 코드 예비5 ' FROM DUAL
 UNION SELECT 11, 'REM', '비고' FROM DUAL
 UNION SELECT 12, 'STS', '상태' FROM DUAL
 UNION SELECT 13, 'REG_ID', '등록자 아이디' FROM DUAL
 UNION SELECT 14, 'REG_DT', '등록 일시' FROM DUAL
 UNION SELECT 15, 'MOD_ID', '수정자 아이디' FROM DUAL
 UNION SELECT 16, 'MOD_DT', '수정 일시' FROM DUAL  
)
SELECT CASE WHEN B.COMMENTS IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,B.TABLE_NAME
      ,B.COMMENTS
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       USER_COL_COMMENTS B
      ON    B.TABLE_NAME  = #table_name#
        AND B.COLUMN_NAME = A.C02
   
  ]]>
 </sql>

 <sq id="SELECT">
  <![CDATA[
WITH T01 (
  SYS_ID
 ,LANG_CD
 ,GRP_CD
 ,DTL_CD
 ,DTL_CD_NM
 ,DTL_CD_USE1
 ,DTL_CD_USE2
 ,DTL_CD_USE3
 ,DTL_CD_USE4
 ,DTL_CD_USE5
 ,REM
 ,STS
 ,REG_ID
 ,REG_DT
 ,MOD_ID
 ,MOD_DT
) AS (
       SELECT '100', 'ko_KR', 'CHK_USER', 'AUTH', '권한', NULL, NULL, NULL, NULL, NULL, NULL, 'U', 'SYSTEMPG', '2024-07-28 16:20:00', 'SYSTEMPG', '2024-07-28 16:20:00' FROM DUAL
 UNION SELECT '100', 'ko_KR', 'CHK_USER', 'DEGR', '차수', NULL, NULL, NULL, NULL, NULL, 'GE001037,TSA00024', 'C', 'GE001037', '2022-07-14 15:03:03.0 Asia/Seoul', NULL, '2022-07-14 15:03:03.0 Asia/Seoul' FROM DUAL
 UNION SELECT '100', 'ko_KR', 'CONF'    , '0002', '오픈일자', NULL, NULL, NULL, NULL, NULL, '20221014', 'U', 'TSA00024', '2022-10-14 09:34:23.0 Asia/Seoul', 'GE001037', '2024-07-25 10:33:31.0 Asia/Seoul' FROM DUAL
)
SELECT CASE WHEN B.SYS_ID IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       ESACDDL B
      ON    B.SYS_ID = A.SYS_ID
        AND B.LANG_CD = A.LANG_CD
        AND B.GRP_CD = A.GRP_CD
        AND B.DTL_CD = A.DTL_CD
  ]]>
 </sq> 

 <sq id="INSERT">
  <![CDATA[
INSERT INTO ESACDDL (
  SYS_ID
 ,LANG_CD
 ,GRP_CD
 ,DTL_CD
 ,DTL_CD_NM
 ,DTL_CD_USE1
 ,DTL_CD_USE2
 ,DTL_CD_USE3
 ,DTL_CD_USE4
 ,DTL_CD_USE5
 ,REM
 ,STS
 ,REG_ID
 ,REG_DT
 ,MOD_ID
 ,MOD_DT
) VALUES (
  #sys_id#
 ,#lang_cd#
 ,#grp_cd#
 ,#dtl_cd#
 ,#dtl_cd_nm#
 ,#dtl_cd_use1#
 ,#dtl_cd_use2#
 ,#dtl_cd_use3#
 ,#dtl_cd_use4#
 ,#dtl_cd_use5#
 ,#rem#
 ,#sts#
 ,#reg_id#
 ,#reg_dt#
 ,#mod_id#
 ,#mod_dt#
)
  ]]>
 </sq> 

 <sq id="SELECT.2407.01">
  <![CDATA[
SELECT *
  FROM ESACDDL
 WHERE GRP_CD IN ('CHK_USER', 'CONF')  
  ]]>
 </sq> 
 
</sql-descriptor>