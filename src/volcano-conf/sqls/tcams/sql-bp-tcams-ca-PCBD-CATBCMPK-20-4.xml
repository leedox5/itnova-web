<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/ca/PCBD/CATBCMPK/20-4" data-source="tcamsDS">

 <sql id="select" comment="조회">
  <![CDATA[
WITH T1 (
  CMPK_CORP_CODE
 ,CMPK_STND_GUBN
 ,CMPK_STND_DEGR
 ,CMPK_GUBN_CODE
 ,CMPK_CODE
 ,CMPK_SORT_NUMB
 ,CMPK_GUBN_NAME
 ,CMPK_CODE_NAME
 ,CMPK_APPL_VALU
 ,CMPK_APPL_PRIC
 ,CMPK_APPL_RATE1
 ,CMPK_APPL_RATE2
 ,CMPK_APPL_RATE3
 ,CMPK_CODE_GRP1
 ,CMPK_CODE_GRP2
 ,CMPK_CODE_GRP3
 ,CMPK_CODE_GRP4
 ,CMPK_CODE_GRP5
 ,CMPK_APPL_GUBN
 ,CMPK_END0_DATE
 ,CMPK_REMK
 ,CMPK_UPDT_CMAN
 ,CMPK_UPDT_DATE
 ,CMPK_INIT_CMAN
 ,CMPK_INIT_DATE
) AS (
           SELECT 'K1' ,'H' ,'20-4' ,'PCBD01' ,'SINGLE' ,'1' ,'PCB종류' ,'단면' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD01' ,'SINGLE_J' ,'2' ,'PCB종류' ,'단면(JUMP인쇄)' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD01' ,'DOUBLE' ,'3' ,'PCB종류' ,'양면' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD01' ,'MULTI' ,'4' ,'PCB종류' ,'다층' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'OSP' ,'5' ,'표면처리' ,'OSP(Pre Flux)' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'HASL' ,'6' ,'표면처리' ,'HASL(납)_유연' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'HASL_UN' ,'7' ,'표면처리' ,'HASL(납)_무연' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'TIN0.5' ,'8' ,'표면처리' ,'Tin(주석)_0.5㎛이상' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'TIN1.0' ,'9' ,'표면처리' ,'Tin(주석)_1.0㎛이상' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'ENIG0.03' ,'10' ,'표면처리' ,'ENIG(니켈+금)_금 0.03㎛이상' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'ENIG0.04' ,'11' ,'표면처리' ,'ENIG(니켈+금)_금 0.04㎛이상' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD02' ,'ENIG0.05' ,'12' ,'표면처리' ,'ENIG(니켈+금)_금 0.05㎛이상' ,'0' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'4F' ,'13' ,'다층PCB층수' ,'4층' ,'4' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'6F' ,'14' ,'다층PCB층수' ,'6층' ,'6' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'8F' ,'15' ,'다층PCB층수' ,'8층' ,'8' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'10F' ,'16' ,'다층PCB층수' ,'10층' ,'10' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'12F' ,'17' ,'다층PCB층수' ,'12층' ,'12' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'14F' ,'18' ,'다층PCB층수' ,'14층' ,'14' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
 UNION ALL SELECT 'K1' ,'H' ,'20-4' ,'PCBD03' ,'ETC' ,'19' ,'다층PCB층수' ,'기타(16층 이상)' ,'16' ,'0' ,'0' ,'0' ,'0' ,NULL ,NULL ,NULL ,NULL ,NULL ,'Y' ,NULL ,NULL ,'SYSTEM24' ,'20240206' ,'SYSTEM24' ,'20240206'  FROM DUAL
)
SELECT CASE                                                   
        WHEN B.CMPK_CORP_CODE IS NULL THEN 'I'             
        WHEN A.CMPK_UPDT_DATE > B.CMPK_UPDT_DATE THEN 'U'  
       END MG_MODE                                         
      ,A.*                                                 
  FROM T1 A                                                
      LEFT OUTER JOIN                                      
       CATBCMPK B                                          

  ]]>
 </sql>

 <sql id="insert" comment="저장">
  <![CDATA[ 
INSERT INTO CATBCMPK (
  CMPK_CORP_CODE
 ,CMPK_STND_GUBN
 ,CMPK_STND_DEGR
 ,CMPK_GUBN_CODE
 ,CMPK_CODE
 ,CMPK_SORT_NUMB
 ,CMPK_GUBN_NAME
 ,CMPK_CODE_NAME
 ,CMPK_APPL_VALU
 ,CMPK_APPL_PRIC
 ,CMPK_APPL_RATE1
 ,CMPK_APPL_RATE2
 ,CMPK_APPL_RATE3
 ,CMPK_CODE_GRP1
 ,CMPK_CODE_GRP2
 ,CMPK_CODE_GRP3
 ,CMPK_CODE_GRP4
 ,CMPK_CODE_GRP5
 ,CMPK_APPL_GUBN
 ,CMPK_END0_DATE
 ,CMPK_REMK
 ,CMPK_UPDT_CMAN
 ,CMPK_UPDT_DATE
 ,CMPK_INIT_CMAN
 ,CMPK_INIT_DATE
) VALUES (
  #cmpk_corp_code#
 ,#cmpk_stnd_gubn#
 ,#cmpk_stnd_degr#
 ,#cmpk_gubn_code#
 ,#cmpk_code#
 ,#cmpk_sort_numb#
 ,#cmpk_gubn_name#
 ,#cmpk_code_name#
 ,#cmpk_appl_valu#
 ,#cmpk_appl_pric#
 ,#cmpk_appl_rate1#
 ,#cmpk_appl_rate2#
 ,#cmpk_appl_rate3#
 ,#cmpk_code_grp1#
 ,#cmpk_code_grp2#
 ,#cmpk_code_grp3#
 ,#cmpk_code_grp4#
 ,#cmpk_code_grp5#
 ,#cmpk_appl_gubn#
 ,#cmpk_end0_date#
 ,#cmpk_remk#
 ,#cmpk_updt_cman#
 ,#cmpk_updt_date#
 ,#cmpk_init_cman#
 ,#cmpk_init_date#
)
  ]]>
 </sql>

 <sql id="update" comment="업데이트">
  <![CDATA[
UPDATE CATBCMPK
CMPK_CORP_CODE = #cmpk_corp_code#   SET CMPK_STND_GUBN = #cmpk_stnd_gubn#
      ,CMPK_STND_DEGR = #cmpk_stnd_degr#
      ,CMPK_GUBN_CODE = #cmpk_gubn_code#
      ,CMPK_CODE = #cmpk_code#
      ,CMPK_SORT_NUMB = #cmpk_sort_numb#
      ,CMPK_GUBN_NAME = #cmpk_gubn_name#
      ,CMPK_CODE_NAME = #cmpk_code_name#
      ,CMPK_APPL_VALU = #cmpk_appl_valu#
      ,CMPK_APPL_PRIC = #cmpk_appl_pric#
      ,CMPK_APPL_RATE1 = #cmpk_appl_rate1#
      ,CMPK_APPL_RATE2 = #cmpk_appl_rate2#
      ,CMPK_APPL_RATE3 = #cmpk_appl_rate3#
      ,CMPK_CODE_GRP1 = #cmpk_code_grp1#
      ,CMPK_CODE_GRP2 = #cmpk_code_grp2#
      ,CMPK_CODE_GRP3 = #cmpk_code_grp3#
      ,CMPK_CODE_GRP4 = #cmpk_code_grp4#
      ,CMPK_CODE_GRP5 = #cmpk_code_grp5#
      ,CMPK_APPL_GUBN = #cmpk_appl_gubn#
      ,CMPK_END0_DATE = #cmpk_end0_date#
      ,CMPK_REMK = #cmpk_remk#
      ,CMPK_UPDT_CMAN = #cmpk_updt_cman#
      ,CMPK_UPDT_DATE = #cmpk_updt_date#

  ]]>
 </sql>
</sql-descriptor> 