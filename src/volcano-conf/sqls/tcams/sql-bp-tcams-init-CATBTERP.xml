<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init/CATBTERP" data-source="tcamsDS">

 <sql id="CREATE">
  <![CDATA[
CREATE TABLE CATBTERP(
 TERP_CORP_CODE VARCHAR(4),
 TERP_STND_GUBN CHAR(1),
 TERP_STND_DEGR VARCHAR(10),
 TERP_PROC_SEQ0 NUMBER(5, 0),
 TERP_PROC_GUBN VARCHAR(8),
 TERP_TERM_CODE VARCHAR(8),
 TERP_TON0_CODE VARCHAR(8),
 TERP_PLAT_CODE VARCHAR(8),
 TERP_MASK_YN VARCHAR(8),
 TERP_TINP_YN VARCHAR(8),
 TERP_PROC_NAME VARCHAR(30),
 TERP_NET0_CYTM NUMBER(10, 2),
 TERP_CAVT NUMBER(10, 0),
 TERP_PREP_HOUR NUMBER(8, 3),
 TERP_PRSN_CNT0 NUMBER(5, 2),
 TERP_MCHH_CODE VARCHAR(20),
 TERP_APPL_GUBN CHAR(1),
 TERP_REMK VARCHAR(200),
 TERP_UPDT_CMAN VARCHAR(8),
 TERP_UPDT_DATE VARCHAR(8),
 TERP_INIT_CMAN VARCHAR(8),
 TERP_INIT_DATE VARCHAR(8),
 CONSTRAINT CATBTERP_PK PRIMARY KEY (
  TERP_CORP_CODE,
  TERP_STND_GUBN,
  TERP_STND_DEGR,
  TERP_PROC_SEQ0,
  TERP_PROC_GUBN
 )
)  
  ]]>
 </sql>

 <sql id="DESC">
  <![CDATA[
WITH T01(C01, C02, C03) AS (
       SELECT 1, 'TERP_CORP_CODE', '법인코드' FROM DUAL
 UNION SELECT 2, 'TERP_STND_GUBN', '표준구분' FROM DUAL
 UNION SELECT 3, 'TERP_STND_DEGR', '개정차수 ' FROM DUAL
 UNION SELECT 4, 'TERP_PROC_SEQ0', '공정SEQ' FROM DUAL
 UNION SELECT 5, 'TERP_PROC_GUBN', '공정구분' FROM DUAL
 UNION SELECT 6, 'TERP_TERM_CODE', 'TERMINAL TYPE' FROM DUAL
 UNION SELECT 7, 'TERP_TON0_CODE', '적용TON' FROM DUAL
 UNION SELECT 8, 'TERP_PLAT_CODE', '도금종류' FROM DUAL
 UNION SELECT 9, 'TERP_MASK_YN', '마스킹여부' FROM DUAL
 UNION SELECT 10, 'TERP_TINP_YN', '주석도금 여부' FROM DUAL
 UNION SELECT 11, 'TERP_PROC_NAME', '공정명' FROM DUAL
 UNION SELECT 12, 'TERP_NET0_CYTM', 'NET/CT' FROM DUAL
 UNION SELECT 13, 'TERP_CAVT', 'CAVITY' FROM DUAL
 UNION SELECT 14, 'TERP_PREP_HOUR', '준비시간' FROM DUAL
 UNION SELECT 15, 'TERP_PRSN_CNT0', '인원' FROM DUAL
 UNION SELECT 16, 'TERP_MCHH_CODE', '기계장비코드' FROM DUAL
 UNION SELECT 17, 'TERP_APPL_GUBN', '적용여부' FROM DUAL
 UNION SELECT 18, 'TERP_REMK', 'REMARK' FROM DUAL
 UNION SELECT 19, 'TERP_UPDT_CMAN', '수정자' FROM DUAL
 UNION SELECT 20, 'TERP_UPDT_DATE', '수정일' FROM DUAL
 UNION SELECT 21, 'TERP_INIT_CMAN', '등록자' FROM DUAL
 UNION SELECT 22, 'TERP_INIT_DATE', '등록일' FROM DUAL  
)
SELECT CASE WHEN B.COMMENTS IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,B.TABLE_NAME
      ,B.COMMENTS
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       USER_COL_COMMENTS B
      ON    B.TABLE_NAME  = #table_name#
        AND B.COLUMN_NAME = A.C02
   
  ]]>
 </sql>

 <sq id="SELECT">
  <![CDATA[
WITH T01 (
  TERP_CORP_CODE
 ,TERP_STND_GUBN
 ,TERP_STND_DEGR
 ,TERP_PROC_SEQ0
 ,TERP_PROC_GUBN
 ,TERP_TERM_CODE
 ,TERP_TON0_CODE
 ,TERP_PLAT_CODE
 ,TERP_MASK_YN
 ,TERP_TINP_YN
 ,TERP_PROC_NAME
 ,TERP_NET0_CYTM
 ,TERP_CAVT
 ,TERP_PREP_HOUR
 ,TERP_PRSN_CNT0
 ,TERP_MCHH_CODE
 ,TERP_APPL_GUBN
 ,TERP_REMK
 ,TERP_UPDT_CMAN
 ,TERP_UPDT_DATE
 ,TERP_INIT_CMAN
 ,TERP_INIT_DATE
) AS (
#DATA_TEXT#
)
SELECT CASE WHEN B.SYS_ID IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       CATBTERP B
      ON    B.TERP_CORP_CODE = A.TERP_CORP_CODE
        AND B.TERP_STND_GUBN = A.TERP_STND_GUBN
        AND B.TERP_STND_DEGR = A.TERP_STND_DEGR
        AND B.TERP_PROC_SEQ0 = A.TERP_PROC_SEQ0
        AND B.TERP_PROC_GUBN = A.TERP_PROC_GUBN
  ]]>
 </sq> 

 <sq id="INSERT">
  <![CDATA[
INSERT INTO CATBTERP (
  TERP_CORP_CODE
 ,TERP_STND_GUBN
 ,TERP_STND_DEGR
 ,TERP_PROC_SEQ0
 ,TERP_PROC_GUBN
 ,TERP_TERM_CODE
 ,TERP_TON0_CODE
 ,TERP_PLAT_CODE
 ,TERP_MASK_YN
 ,TERP_TINP_YN
 ,TERP_PROC_NAME
 ,TERP_NET0_CYTM
 ,TERP_CAVT
 ,TERP_PREP_HOUR
 ,TERP_PRSN_CNT0
 ,TERP_MCHH_CODE
 ,TERP_APPL_GUBN
 ,TERP_REMK
 ,TERP_UPDT_CMAN
 ,TERP_UPDT_DATE
 ,TERP_INIT_CMAN
 ,TERP_INIT_DATE
) VALUES (
  #terp_corp_code#
 ,#terp_stnd_gubn#
 ,#terp_stnd_degr#
 ,#terp_proc_seq0#
 ,#terp_proc_gubn#
 ,#terp_term_code#
 ,#terp_ton0_code#
 ,#terp_plat_code#
 ,#terp_mask_yn#
 ,#terp_tinp_yn#
 ,#terp_proc_name#
 ,#terp_net0_cytm#
 ,#terp_cavt#
 ,#terp_prep_hour#
 ,#terp_prsn_cnt0#
 ,#terp_mchh_code#
 ,#terp_appl_gubn#
 ,#terp_remk#
 ,#terp_updt_cman#
 ,#terp_updt_date#
 ,#terp_init_cman#
 ,#terp_init_date#
)
  ]]>
 </sq> 

 <sq id="SELECT.YYMM.NN">
  <![CDATA[
#SELECT_YYMM_NN#
  ]]>
 </sq> 
 
</sql-descriptor>
