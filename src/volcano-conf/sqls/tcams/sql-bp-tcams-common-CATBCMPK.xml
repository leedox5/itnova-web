<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/common/CATBCMPK" data-source="tcamsDS">

 <sql id="select" comment="조회">
  <![CDATA[
WITH T1 (
  PKCL_CORP_CODE
 ,PKCL_COME_CODE
 ,PKCL_TABL_ID
 ,PKCL_COLM_ID
 ,PKCL_SORT_NUMB
 ,PKCL_COLM_NAME
 ,PKCL_DATA_TYPE
 ,PKCL_DATA_LENG
 ,PKCL_COLM_ALGN
 ,PKCL_WITH_SCRN
 ,PKCL_DISP_ALLW
 ,PKCL_UPDT_DATE
 ,PKCL_UPDT_CMAN
 ,PKCL_INIT_DATE
 ,PKCL_INIT_CMAN
) AS (
           SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CORP_CODE'  , 1 ,'법인코드'   ,'CHAR'    , '4' ,'C' , '60' ,'Y' ,'20200421' ,'GE000288' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_STND_GUBN'  , 2 ,'표준구분'   ,'CHAR'    , '1' ,'C' , '60' ,'Y' ,'20200421' ,'GE000288' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_STND_DEGR'  , 3 ,'표준차수'   ,'VARCHAR' ,'10' ,'C' , '60' ,'Y' ,'20221110 10:47:27' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_GUBN_CODE'  , 4 ,'구분코드'   ,'VARCHAR' , '8' ,'L' , '80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE'       , 5 ,'코드'       ,'VARCHAR' , '8' ,'L' , '80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_SORT_NUMB'  , 6 ,'SORT순번'   ,'NUMBER'  , '5' ,'R' , '70' ,'Y' ,'20220629' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_GUBN_NAME'  , 7 ,'구분코드명' ,'VARCHAR' ,'80' ,'L' ,'100' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_NAME'  , 8 ,'코드명' ,'VARCHAR' ,'80' ,'L' ,'200' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_VALU'  , 9 ,'적용값' ,'NUMBER' ,'22' ,'R' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_PRIC'  ,10 ,'적용단가' ,'NUMBER' ,'22' ,'R' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_RATE1' ,11 ,'적용율1' ,'NUMBER' ,'22' ,'R' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_RATE2' ,12 ,'적용율2' ,'NUMBER' ,'22' ,'R' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_RATE3' ,13 ,'적용율3' ,'NUMBER' ,'22' ,'R' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_GRP1'  ,14 ,'분류그룹1' ,'VARCHAR' ,'8' ,'L' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_GRP2'  ,15 ,'분류그룹2' ,'VARCHAR' ,'8' ,'L' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_GRP3'  ,16 ,'분류그룹3' ,'VARCHAR' ,'8' ,'L' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_GRP4'  ,17 ,'분류그룹4' ,'VARCHAR' ,'8' ,'L' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_CODE_GRP5'  ,18 ,'분류그룹5' ,'VARCHAR' ,'8' ,'L' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_APPL_GUBN'  ,19 ,'적용여부' ,'CHAR' ,'1' ,'C' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_END0_DATE'  ,20 ,'적용종료일' ,'CHAR' ,'8' ,'C' ,'80' ,'Y' ,'20140609' ,'SYSTEM' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_REMK'       ,21 ,'REMARK' ,'VARCHAR' ,'200' ,'L' ,'200' ,'Y' ,'20221110 10:47:27' ,'SYSTEM' ,'20221110 10:47:27' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_UPDT_CMAN'  ,22 ,'수정자' ,'VARCHAR' ,'8' ,'C' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_UPDT_DATE'  ,23 ,'수정일' ,'VARCHAR' ,'8' ,'C' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_INIT_CMAN'  ,24 ,'등록자' ,'VARCHAR' ,'8' ,'C' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
 UNION ALL SELECT 'K1' ,'ALL0' ,'CATBCMPK' ,'CMPK_INIT_DATE'  ,25 ,'등록일' ,'VARCHAR' ,'8' ,'C' ,'80' ,'Y' ,'20221110 10:47:27' ,'SYSTEMPG' ,'20140609' ,'SYSTEM'  FROM DUAL
)
SELECT CASE WHEN B.TABLE_NAME     IS NOT NULL THEN 'Y' ELSE 'N' END CREATED_YN
      ,CASE WHEN C.COMMENTS       IS NOT NULL THEN 'Y' ELSE 'N' END COMMENTS_YN
      ,CASE WHEN D.PKCL_CORP_CODE IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,CASE WHEN A.PKCL_UPDT_DATE > D.PKCL_UPDT_DATE THEN 'N' ELSE 'Y' END UPDATED_YN
      ,CASE
        WHEN D.PKCL_CORP_CODE IS NULL             THEN 'I'
        WHEN A.PKCL_UPDT_DATE  > D.PKCL_UPDT_DATE THEN 'U'
        WHEN A.PKCL_COLM_ALGN != D.PKCL_COLM_ALGN THEN 'U'
        WHEN A.PKCL_WITH_SCRN != D.PKCL_WITH_SCRN THEN 'U'
        ELSE 'X'
       END MG_MODE
      ,CASE
        WHEN A.PKCL_DATA_TYPE = B.DATA_TYPE AND A.PKCL_DATA_LENG = B.DATA_LENGTH THEN 'OK'
        WHEN A.PKCL_DATA_TYPE <> B.DATA_TYPE OR A.PKCL_DATA_LENG <> B.DATA_LENGTH THEN 'ALT'
        ELSE 'X'
       END ALT_MODE
      ,A.*
  FROM T1 A
      LEFT OUTER JOIN
       USER_TAB_COLUMNS B
      ON    B.TABLE_NAME     = A.PKCL_TABL_ID
        AND B.COLUMN_NAME    = A.PKCL_COLM_ID
      LEFT OUTER JOIN
       USER_COL_COMMENTS C
      ON    C.TABLE_NAME     = A.PKCL_TABL_ID
        AND C.COLUMN_NAME    = A.PKCL_COLM_ID
      LEFT OUTER JOIN
       CITBPKCL D
      ON    D.PKCL_CORP_CODE = A.PKCL_CORP_CODE
        AND D.PKCL_COME_CODE = A.PKCL_COME_CODE
        AND D.PKCL_TABL_ID   = A.PKCL_TABL_ID
        AND D.PKCL_COLM_ID   = A.PKCL_COLM_ID
 ORDER BY A.PKCL_SORT_NUMB
  ]]>
 </sql>

 <sql id="create" comment="생성">
  <![CDATA[
CREATE TABLE CATBCMPK (
  CMPK_CORP_CODE  CHAR(4)
 ,CMPK_STND_GUBN  CHAR(1)
 ,CMPK_STND_DEGR  VARCHAR2(10)
 ,CMPK_GUBN_CODE  VARCHAR2(8)
 ,CMPK_CODE  VARCHAR2(8)
 ,CMPK_SORT_NUMB  NUMBER(5, 0)
 ,CMPK_GUBN_NAME  VARCHAR2(80)
 ,CMPK_CODE_NAME  VARCHAR2(80)
 ,CMPK_APPL_VALU  NUMBER(20, 6)
 ,CMPK_APPL_PRIC  NUMBER(14, 6)
 ,CMPK_APPL_RATE1  NUMBER(5, 2)
 ,CMPK_APPL_RATE2  NUMBER(5, 2)
 ,CMPK_APPL_RATE3  NUMBER(5, 2)
 ,CMPK_CODE_GRP1  VARCHAR2(8)
 ,CMPK_CODE_GRP2  VARCHAR2(8)
 ,CMPK_CODE_GRP3  VARCHAR2(8)
 ,CMPK_CODE_GRP4  VARCHAR2(8)
 ,CMPK_CODE_GRP5  VARCHAR2(8)
 ,CMPK_APPL_GUBN  CHAR(1)
 ,CMPK_END0_DATE  CHAR(8)
 ,CMPK_REMK  VARCHAR2(200)
 ,CMPK_UPDT_CMAN  VARCHAR2(8)
 ,CMPK_UPDT_DATE  VARCHAR2(8)
 ,CMPK_INIT_CMAN  VARCHAR2(8)
 ,CMPK_INIT_DATE  VARCHAR2(8)
 ,CONSTRAINT CATBCMPK_PK PRIMARY KEY(

  )
)
  ]]>
 </sql>

 <sql id="ALTER" comment="ALTER">
  <![CDATA[
ALTER TABLE @comd_tabl_id@
 MODIFY ( @comd_colm_id@ @comd_data_type@(@comd_data_leng@))
  ]]>
 </sql>

 <sql id="select.comment" comment="코멘트 조회">
  <![CDATA[
WITH T1 (C1, C2) AS (
       SELECT 'CORP_CODE','법인코드' FROM DUAL
 UNION SELECT 'COME_CODE','공법' FROM DUAL
)
SELECT * FROM T1
  ]]>
 </sql>

 <sql id="ID" comment="코멘트">
  <![CDATA[
  ]]>
 </sql>

</sql-descriptor>