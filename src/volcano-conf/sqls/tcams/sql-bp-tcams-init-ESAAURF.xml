<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init/ESAAURF" data-source="tcamsDS">
 <sql id="CREATE">
  <![CDATA[
CREATE TABLE ESAAURF (
	SYS_ID VARCHAR(18) NOT NULL,
	ROLE_CD VARCHAR(18) NOT NULL,
	FUNC_CD VARCHAR(18) NOT NULL,
	MENU_CD VARCHAR(18) NOT NULL,
	REG_ID VARCHAR(18),
	REG_DT VARCHAR(14) DEFAULT to_char(sysdate,'yyyymmddhh24miss'),
	CONSTRAINT ESAAURF_PK PRIMARY KEY (SYS_ID,ROLE_CD,FUNC_CD,MENU_CD)
)
  ]]>
 </sql>
 <sql id="select" comment="조회">
  <![CDATA[
WITH T1 (
  SYS_ID
 ,ROLE_CD
 ,FUNC_CD
 ,MENU_CD
 ,REG_ID
 ,REG_DT
) AS ( 
       SELECT '100', 'M10', 'ALL', 'PCJ00000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCK00010', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM81000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM32000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT00000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10010', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10020', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10030', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10040', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10050', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10060', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'CMT10070', 'SYSTEMPG', NULL FROM DUAL 
 UNION SELECT '100', 'M10', 'ALL', 'PCA00000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00010', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00020', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00030', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00040', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00050', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00060', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00070', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00080', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00100', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCA00110', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM00000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM10000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM20000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM21000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM22000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM23000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM30000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM31000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM32000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM50000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM51000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM52000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM80000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM81000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADM90000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMB0000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMB1000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF0000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1100', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1200', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1300', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1400', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1401', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1402', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMF1601', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMG0000', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'ADMG0010', 'SYSTEMPG', NULL FROM DUAL 
 UNION SELECT '100', 'M10', 'ALL', 'PCX00020', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCF00020', 'SYSTEMPG', NULL FROM DUAL
 UNION SELECT '100', 'M10', 'ALL', 'PCC00000', 'SYSTEMPG', NULL FROM DUAL 
 UNION SELECT '100', 'M10', 'ALL', 'PCC00110', 'SYSTEMPG', NULL FROM DUAL
)
SELECT CASE WHEN B.SYS_ID IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.* 
  FROM T1 A
      LEFT OUTER JOIN 
       ESAAURF B
      ON    B.SYS_ID  = A.SYS_ID
        AND B.ROLE_CD = A.ROLE_CD
        AND B.FUNC_CD = A.FUNC_CD
        AND B.MENU_CD = A.MENU_CD
  ]]>
 </sql>
 <sql id="insert" comment="저장">
  <![CDATA[
INSERT INTO ESAAURF (
  SYS_ID
 ,ROLE_CD
 ,FUNC_CD
 ,MENU_CD
 ,REG_ID
) VALUES ( 
  #sys_id#
 ,#role_cd#
 ,#func_cd#
 ,#menu_cd#
 ,#reg_id#
)
  ]]>
 </sql>
  
</sql-descriptor>