<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init/CITBMTDG" data-source="tcamsDS">

 <sql id="CREATE">
  <![CDATA[
CREATE TABLE CITBMTDG(
 MTDG_CORP_CODE VARCHAR(4),
 MTDG_METH_GUBN CHAR(1),
 MTDG_COME_CODE CHAR(4),
 MTDG_STND_DEGR VARCHAR(10),
 MTDG_REGT_NO VARCHAR(20),
 MTDG_REVI_DATE CHAR(8),
 MTDG_APPL_DATE CHAR(8),
 MTDG_HKMC_DEGR VARCHAR(10),
 MTDG_DEGR_CONT VARCHAR(200),
 MTDG_STND_FILE VARCHAR(50),
 MTDG_STND_MAN1 VARCHAR(20),
 MTDG_PHON_NO1 VARCHAR(20),
 MTDG_STND_MAN2 VARCHAR(20),
 MTDG_PHON_NO2 VARCHAR(20),
 MTDG_MENU_ID VARCHAR(20),
 MTDG_MXML_PATH VARCHAR(60),
 MTDG_ATT_GRP_CD VARCHAR(18),
 MTDG_APPL_YN CHAR(1),
 MTDG_UPDT_DATE CHAR(8),
 MTDG_UPDT_CMAN VARCHAR(8),
 MTDG_INIT_DATE CHAR(8),
 MTDG_INIT_CMAN VARCHAR(8),
 MTDG_TRAN_DEGR VARCHAR(10),
 MTDG_MCHH_DATE CHAR(8),
 MTDG_MODL_NAME VARCHAR(20),
 CONSTRAINT CITBMTDG_PK PRIMARY KEY (
  MTDG_CORP_CODE,
  MTDG_METH_GUBN,
  MTDG_COME_CODE,
  MTDG_STND_DEGR
 )
)  
  ]]>
 </sql>

 <sql id="COLS">
  <![CDATA[
WITH T01(C01, C02, C03, C04, C05) AS (
       SELECT 1, 'CITBMTDG' , 'MTDG_CORP_CODE', 'VARCHAR', 4 FROM DUAL
 UNION SELECT 2, 'CITBMTDG' , 'MTDG_METH_GUBN', 'CHAR', 1 FROM DUAL
 UNION SELECT 3, 'CITBMTDG' , 'MTDG_COME_CODE', 'CHAR', 4 FROM DUAL
 UNION SELECT 4, 'CITBMTDG' , 'MTDG_STND_DEGR', 'VARCHAR', 10 FROM DUAL
 UNION SELECT 5, 'CITBMTDG' , 'MTDG_REGT_NO', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 6, 'CITBMTDG' , 'MTDG_REVI_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 7, 'CITBMTDG' , 'MTDG_APPL_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 8, 'CITBMTDG' , 'MTDG_HKMC_DEGR', 'VARCHAR', 10 FROM DUAL
 UNION SELECT 9, 'CITBMTDG' , 'MTDG_DEGR_CONT', 'VARCHAR', 200 FROM DUAL
 UNION SELECT 10, 'CITBMTDG' , 'MTDG_STND_FILE', 'VARCHAR', 50 FROM DUAL
 UNION SELECT 11, 'CITBMTDG' , 'MTDG_STND_MAN1', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 12, 'CITBMTDG' , 'MTDG_PHON_NO1', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 13, 'CITBMTDG' , 'MTDG_STND_MAN2', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 14, 'CITBMTDG' , 'MTDG_PHON_NO2', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 15, 'CITBMTDG' , 'MTDG_MENU_ID', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 16, 'CITBMTDG' , 'MTDG_MXML_PATH', 'VARCHAR', 60 FROM DUAL
 UNION SELECT 17, 'CITBMTDG' , 'MTDG_ATT_GRP_CD', 'VARCHAR', 18 FROM DUAL
 UNION SELECT 18, 'CITBMTDG' , 'MTDG_APPL_YN', 'CHAR', 1 FROM DUAL
 UNION SELECT 19, 'CITBMTDG' , 'MTDG_UPDT_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 20, 'CITBMTDG' , 'MTDG_UPDT_CMAN', 'VARCHAR', 8 FROM DUAL
 UNION SELECT 21, 'CITBMTDG' , 'MTDG_INIT_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 22, 'CITBMTDG' , 'MTDG_INIT_CMAN', 'VARCHAR', 8 FROM DUAL
 UNION SELECT 23, 'CITBMTDG' , 'MTDG_TRAN_DEGR', 'VARCHAR', 10 FROM DUAL
 UNION SELECT 24, 'CITBMTDG' , 'MTDG_MCHH_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 25, 'CITBMTDG' , 'MTDG_MODL_NAME', 'VARCHAR', 20 FROM DUAL
)
SELECT CASE WHEN B.COLUMN_NAME IS NULL THEN 'N' ELSE 'Y' END CHK_YN
      ,A.*
  FROM T01 A
      LEFT OUTER JOIN
       USER_TAB_COLUMNS B
      ON    B.TABLE_NAME  = A.C02
        AND B.COLUMN_NAME = A.C03
 ORDER BY A.C01
  ]]>
 </sql>

 <sql id="DESC">
  <![CDATA[
WITH T01(C01, C02, C03) AS (
       SELECT 1, 'MTDG_CORP_CODE', '법인코드' FROM DUAL
 UNION SELECT 2, 'MTDG_METH_GUBN', '공법구분' FROM DUAL
 UNION SELECT 3, 'MTDG_COME_CODE', '공법코드' FROM DUAL
 UNION SELECT 4, 'MTDG_STND_DEGR', '개정차수' FROM DUAL
 UNION SELECT 5, 'MTDG_REGT_NO', '등록번호' FROM DUAL
 UNION SELECT 6, 'MTDG_REVI_DATE', '개정일' FROM DUAL
 UNION SELECT 7, 'MTDG_APPL_DATE', '적용일' FROM DUAL
 UNION SELECT 8, 'MTDG_HKMC_DEGR', '개정차수_자동차' FROM DUAL
 UNION SELECT 9, 'MTDG_DEGR_CONT', '개정내용' FROM DUAL
 UNION SELECT 10, 'MTDG_STND_FILE', '표준첨부화일명' FROM DUAL
 UNION SELECT 11, 'MTDG_STND_MAN1', '표준담당자1' FROM DUAL
 UNION SELECT 12, 'MTDG_PHON_NO1', '연락처1' FROM DUAL
 UNION SELECT 13, 'MTDG_STND_MAN2', '표준담당자2' FROM DUAL
 UNION SELECT 14, 'MTDG_PHON_NO2', '연락처2' FROM DUAL
 UNION SELECT 15, 'MTDG_MENU_ID', '메뉴아이디' FROM DUAL
 UNION SELECT 16, 'MTDG_MXML_PATH', '프로그램 경로' FROM DUAL
 UNION SELECT 17, 'MTDG_ATT_GRP_CD', '파일경로' FROM DUAL
 UNION SELECT 18, 'MTDG_APPL_YN', '적용여부' FROM DUAL
 UNION SELECT 19, 'MTDG_UPDT_DATE', '수정일' FROM DUAL
 UNION SELECT 20, 'MTDG_UPDT_CMAN', '수정자' FROM DUAL
 UNION SELECT 21, 'MTDG_INIT_DATE', '등록일' FROM DUAL
 UNION SELECT 22, 'MTDG_INIT_CMAN', '등록자' FROM DUAL
 UNION SELECT 23, 'MTDG_TRAN_DEGR', '개정차수_트랜시스' FROM DUAL
 UNION SELECT 24, 'MTDG_MCHH_DATE', '기계경비 적용일' FROM DUAL
 UNION SELECT 25, 'MTDG_MODL_NAME', '계산 모듈' FROM DUAL  
)
SELECT CASE WHEN B.COMMENTS IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,B.TABLE_NAME
      ,B.COMMENTS
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       USER_COL_COMMENTS B
      ON    B.TABLE_NAME  = #table_name#
        AND B.COLUMN_NAME = A.C02
   
  ]]>
 </sql>

 <sq id="SELECT">
  <![CDATA[
WITH T01 (
  MTDG_CORP_CODE
 ,MTDG_METH_GUBN
 ,MTDG_COME_CODE
 ,MTDG_STND_DEGR
 ,MTDG_REGT_NO
 ,MTDG_REVI_DATE
 ,MTDG_APPL_DATE
 ,MTDG_HKMC_DEGR
 ,MTDG_DEGR_CONT
 ,MTDG_STND_FILE
 ,MTDG_STND_MAN1
 ,MTDG_PHON_NO1
 ,MTDG_STND_MAN2
 ,MTDG_PHON_NO2
 ,MTDG_MENU_ID
 ,MTDG_MXML_PATH
 ,MTDG_ATT_GRP_CD
 ,MTDG_APPL_YN
 ,MTDG_UPDT_DATE
 ,MTDG_UPDT_CMAN
 ,MTDG_INIT_DATE
 ,MTDG_INIT_CMAN
 ,MTDG_TRAN_DEGR
 ,MTDG_MCHH_DATE
 ,MTDG_MODL_NAME
) AS (
       SELECT 'K1', 'M', 'MALC', '7-1', NULL, '20221102', '20221102', '7-1', '원가계산기준 일원화', NULL, '전유종', '5141', '손한민', NULL, 'PCF30610', 'ui/bp/tcams/cm/malc/em-cmmalc-p07a.html', '1586853296616', 'Y', '20200219', 'ADMIN', '20200219', 'ADMIN', '1', '20221102', 'CMSPMALC_P07_1' FROM DUAL
 UNION SELECT 'K1', 'M', 'MALC', '7-2', NULL, '20230601', '20230501', '7-2', '전력단가 변경'      , NULL, '전유종', '5141', '손한민', NULL, 'PCF30610', 'ui/bp/tcams/cm/malc/em-cmmalc-p07a.html', NULL, 'Y', '20230501', 'ADMIN', '20230501', 'ADMIN', '3', '20230501', 'CMSPMALC_P07_2' FROM DUAL
 UNION SELECT 'K1', 'M', 'MALC', '7-4', NULL, '20240215', '20240215', '7-4', '전력단가변경'       , NULL, '전유종', '5141', '손한민', NULL, 'PCF30610', 'ui/bp/tcams/cm/malc/em-cmmalc-p07a.html', NULL, 'Y', '20240215', 'ADMIN', '20240215', 'ADMIN', '4', '20240215', 'CMSPMALC_P07_4' FROM DUAL
 UNION SELECT 'K1', 'M', 'MALC', '7-5', NULL, '20240901', '20240901', '7-5', '전력단가변경'       , NULL, '전유종', '5141', '손한민', NULL, 'PCF30610', 'ui/bp/tcams/cm/malc/em-cmmalc-p07a.html', NULL, 'Y', '20240901', 'ADMIN', '20240901', 'ADMIN', '5', '20240901', 'CMSPMALC_P07_4' FROM DUAL
)
SELECT CASE WHEN B.MTDG_CORP_CODE IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       CITBMTDG B
      ON    B.MTDG_CORP_CODE = A.MTDG_CORP_CODE
        AND B.MTDG_METH_GUBN = A.MTDG_METH_GUBN
        AND B.MTDG_COME_CODE = A.MTDG_COME_CODE
        AND B.MTDG_STND_DEGR = A.MTDG_STND_DEGR
  ]]>
 </sq> 

 <sq id="INSERT">
  <![CDATA[
INSERT INTO CITBMTDG (
  MTDG_CORP_CODE
 ,MTDG_METH_GUBN
 ,MTDG_COME_CODE
 ,MTDG_STND_DEGR
 ,MTDG_REGT_NO
 ,MTDG_REVI_DATE
 ,MTDG_APPL_DATE
 ,MTDG_HKMC_DEGR
 ,MTDG_DEGR_CONT
 ,MTDG_STND_FILE
 ,MTDG_STND_MAN1
 ,MTDG_PHON_NO1
 ,MTDG_STND_MAN2
 ,MTDG_PHON_NO2
 ,MTDG_MENU_ID
 ,MTDG_MXML_PATH
 ,MTDG_ATT_GRP_CD
 ,MTDG_APPL_YN
 ,MTDG_UPDT_DATE
 ,MTDG_UPDT_CMAN
 ,MTDG_INIT_DATE
 ,MTDG_INIT_CMAN
 ,MTDG_TRAN_DEGR
 ,MTDG_MCHH_DATE
 ,MTDG_MODL_NAME
) VALUES (
  #mtdg_corp_code#
 ,#mtdg_meth_gubn#
 ,#mtdg_come_code#
 ,#mtdg_stnd_degr#
 ,#mtdg_regt_no#
 ,#mtdg_revi_date#
 ,#mtdg_appl_date#
 ,#mtdg_hkmc_degr#
 ,#mtdg_degr_cont#
 ,#mtdg_stnd_file#
 ,#mtdg_stnd_man1#
 ,#mtdg_phon_no1#
 ,#mtdg_stnd_man2#
 ,#mtdg_phon_no2#
 ,#mtdg_menu_id#
 ,#mtdg_mxml_path#
 ,#mtdg_att_grp_cd#
 ,#mtdg_appl_yn#
 ,#mtdg_updt_date#
 ,#mtdg_updt_cman#
 ,#mtdg_init_date#
 ,#mtdg_init_cman#
 ,#mtdg_tran_degr#
 ,#mtdg_mchh_date#
 ,#mtdg_modl_name#
)
  ]]>
 </sq> 

 <sq id="SELECT.MALC.00">
  <![CDATA[
SELECT *
  FROM CITBMTDG
 WHERE MTDG_COME_CODE = 'MALC'
 ORDER BY MTDG_APPL_DATE 
  ]]>
 </sq> 
 
</sql-descriptor>
