<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/ca/PCBD/CITBMCIF/20-4" data-source="tcamsDS">

 <sql id="SELECT" comment="조회">
  <![CDATA[
WITH T1 (
  MCIF_CORP_CODE
 ,MCIF_STND_GUBN
 ,MCIF_APPL_DATE
 ,MCIF_ATMO_GUBN
 ,MCIF_COME_CODE
 ,MCIF_MCHH_CODE
 ,MCIF_SORT_NUMB
 ,MCIF_SHIF_CODE
 ,MCIF_MCHH_NAME
 ,MCIF_DRCT_GUBN
 ,MCIF_DRCT_COST
 ,MCIF_NEGO_COST
 ,MCIF_MCRP_MCPR
 ,MCIF_MCRP_RPYR
 ,MCIF_RUN0_DAYS
 ,MCIF_RUN0_TIME
 ,MCIF_MCRP_COST
 ,MCIF_BDRP_RFAR
 ,MCIF_BDRP_APRT
 ,MCIF_BDRP_BDCT
 ,MCIF_BDRP_AVYR
 ,MCIF_BDRP_COST
 ,MCIF_REPR_TIME
 ,MCIF_REPR_RATE
 ,MCIF_REPR_COST
 ,MCIF_ELPR_CAPA
 ,MCIF_ELPR_EXRT
 ,MCIF_ELPR_ELPR
 ,MCIF_ELPR_COST
 ,MCIF_MCHH_CNT0
 ,MCIF_PROC_GUBN
 ,MCIF_MCHH_LNCD
 ,MCIF_REMK_0001
 ,MCIF_APPL_YN
 ,MCIF_DELT_YN
 ,MCIF_APPL_VALU1
 ,MCIF_APPL_VALU2
 ,MCIF_APPL_VALU3
 ,MCIF_APPL_GRP1
 ,MCIF_APPL_GRP2
 ,MCIF_APPL_GRP3
 ,MCIF_UPDT_DATE
 ,MCIF_UPDT_CMAN
 ,MCIF_INIT_DATE
 ,MCIF_INIT_CMAN
) AS (
       SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-LINE', '352', '20', '(소자삽입)자삽', 'D', '13158', '0', '0', '10', '260', '20', '0', '0', '3.5', '440000', '40', '0', '20', '12', '0', '0', '0', '173', '0', NULL, 'SUM', NULL, NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC1', '346', '20', 'SEQUENCER', 'D', '2629', '0', '117254', '10', '260', '20', '2254.884', '1.7', '3.5', '440000', '40', '12.586', '20', '12', '272.096', '2.6', '27', '173', '89.87', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC2', '347', '20', 'AXIAL자삽기', 'D', '3096', '0', '136895', '10', '260', '20', '2632.596', '2.9', '3.5', '440000', '40', '21.471', '20', '12', '318.488', '3.6', '27', '173', '124.435', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC3', '348', '20', 'RADIAL자삽기', 'D', '3847', '0', '165318', '10', '260', '20', '3179.192', '3.3', '3.5', '440000', '40', '24.432', '20', '12', '384.434', '7.5', '27', '173', '259.24', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC4', '349', '20', 'AUTO SOLDER', 'D', '2670', '0', '82300', '10', '260', '20', '1582.692', '3.5', '3.5', '440000', '40', '25.913', '20', '12', '193.032', '19.4', '35', '173', '869.255', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC5', '350', '20', '인두', 'D', '37', '0', '300', '10', '260', '20', '5.769', '1', '3.5', '440000', '40', '7.403', '20', '12', '1.58', '0.5', '35', '173', '22.403', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'AUTO-ISRT-MC6', '351', '20', '부분 SOLDER기', 'D', '879', '0', '21900', '10', '260', '20', '421.153', '0.5', '3.5', '440000', '40', '3.701', '20', '12', '50.982', '9', '35', '173', '403.263', NULL, NULL, 'AUTO-ISRT-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'DOUBLE-AOI-LINE', '142', '20', 'AOI 경비', 'D', '14540', '0', '0', '10', '260', '20', '0', '0', '3.5', '440000', '40', '0', '20', '12', '0', '0', '0', '173', '0', NULL, 'SUM', NULL, NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'DOUBLE-AOI-MC1', '137', '20', 'AOI 1호기', 'D', '2908', '0', '129224', '10', '260', '20', '2485.076', '4', '3.5', '440000', '40', '29.615', '20', '12', '301.762', '3', '24', '173', '92.174', NULL, NULL, 'DOUBLE-AOI-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
 UNION SELECT 'K1', 'H', '20240215', 'A', 'PCBD', 'DOUBLE-AOI-MC2', '138', '20', 'AOI 2호기', 'D', '2908', '0', '129224', '10', '260', '20', '2485.076', '4', '3.5', '440000', '40', '29.615', '20', '12', '301.762', '3', '24', '173', '92.174', NULL, NULL, 'DOUBLE-AOI-LINE', NULL, 'Y', 'N', NULL, NULL, NULL, NULL, NULL, NULL, '20240215', 'SYSTEM24', '20240215', 'SYSTEM24' FROM DUAL
)
SELECT CASE WHEN B.MCIF_CORP_CODE IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.*
  FROM T1 A
      LEFT OUTER JOIN 
       CITBMCIF B
      ON    B.MCIF_CORP_CODE = A.MCIF_CORP_CODE
        AND B.MCIF_STND_GUBN = A.MCIF_STND_GUBN
        AND B.MCIF_APPL_DATE = A.MCIF_APPL_DATE
        AND B.MCIF_ATMO_GUBN = A.MCIF_ATMO_GUBN
        AND B.MCIF_COME_CODE = A.MCIF_COME_CODE
        AND B.MCIF_MCHH_CODE = A.MCIF_MCHH_CODE     
  ]]>
 </sql>

 <sql id="INSERT" comment="저장">
  <![CDATA[ 
INSERT INTO CITBMCIF (
  MCIF_CORP_CODE
 ,MCIF_STND_GUBN
 ,MCIF_APPL_DATE
 ,MCIF_ATMO_GUBN
 ,MCIF_COME_CODE
 ,MCIF_MCHH_CODE
 ,MCIF_SORT_NUMB
 ,MCIF_SHIF_CODE
 ,MCIF_MCHH_NAME
 ,MCIF_DRCT_GUBN
 ,MCIF_DRCT_COST
 ,MCIF_NEGO_COST
 ,MCIF_MCRP_MCPR
 ,MCIF_MCRP_RPYR
 ,MCIF_RUN0_DAYS
 ,MCIF_RUN0_TIME
 ,MCIF_MCRP_COST
 ,MCIF_BDRP_RFAR
 ,MCIF_BDRP_APRT
 ,MCIF_BDRP_BDCT
 ,MCIF_BDRP_AVYR
 ,MCIF_BDRP_COST
 ,MCIF_REPR_TIME
 ,MCIF_REPR_RATE
 ,MCIF_REPR_COST
 ,MCIF_ELPR_CAPA
 ,MCIF_ELPR_EXRT
 ,MCIF_ELPR_ELPR
 ,MCIF_ELPR_COST
 ,MCIF_MCHH_CNT0
 ,MCIF_PROC_GUBN
 ,MCIF_MCHH_LNCD
 ,MCIF_REMK_0001
 ,MCIF_APPL_YN
 ,MCIF_DELT_YN
 ,MCIF_APPL_VALU1
 ,MCIF_APPL_VALU2
 ,MCIF_APPL_VALU3
 ,MCIF_APPL_GRP1
 ,MCIF_APPL_GRP2
 ,MCIF_APPL_GRP3
 ,MCIF_UPDT_DATE
 ,MCIF_UPDT_CMAN
 ,MCIF_INIT_DATE
 ,MCIF_INIT_CMAN
) VALUES (
  #mcif_corp_code#
 ,#mcif_stnd_gubn#
 ,#mcif_appl_date#
 ,#mcif_atmo_gubn#
 ,#mcif_come_code#
 ,#mcif_mchh_code#
 ,#mcif_sort_numb#
 ,#mcif_shif_code#
 ,#mcif_mchh_name#
 ,#mcif_drct_gubn#
 ,#mcif_drct_cost#
 ,#mcif_nego_cost#
 ,#mcif_mcrp_mcpr#
 ,#mcif_mcrp_rpyr#
 ,#mcif_run0_days#
 ,#mcif_run0_time#
 ,#mcif_mcrp_cost#
 ,#mcif_bdrp_rfar#
 ,#mcif_bdrp_aprt#
 ,#mcif_bdrp_bdct#
 ,#mcif_bdrp_avyr#
 ,#mcif_bdrp_cost#
 ,#mcif_repr_time#
 ,#mcif_repr_rate#
 ,#mcif_repr_cost#
 ,#mcif_elpr_capa#
 ,#mcif_elpr_exrt#
 ,#mcif_elpr_elpr#
 ,#mcif_elpr_cost#
 ,#mcif_mchh_cnt0#
 ,#mcif_proc_gubn#
 ,#mcif_mchh_lncd#
 ,#mcif_remk_0001#
 ,#mcif_appl_yn#
 ,#mcif_delt_yn#
 ,#mcif_appl_valu1#
 ,#mcif_appl_valu2#
 ,#mcif_appl_valu3#
 ,#mcif_appl_grp1#
 ,#mcif_appl_grp2#
 ,#mcif_appl_grp3#
 ,#mcif_updt_date#
 ,#mcif_updt_cman#
 ,#mcif_init_date#
 ,#mcif_init_cman#
)
  ]]>
 </sql>
 
</sql-descriptor>