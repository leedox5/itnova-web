<?xml version="1.0" encoding="utf-8"?>
<sql-descriptor id="bp/tcams/init/CRTBMCPR" data-source="tcamsDS">

 <sql id="CREATE">
  <![CDATA[
CREATE TABLE CRTBMCPR(
 MCPR_CORP_CODE VARCHAR(4),
 MCPR_PART_NO VARCHAR(20),
 MCPR_EONO VARCHAR(20),
 MCPR_CUMT_NO NUMBER(10, 0),
 MCPR_COME_CODE CHAR(4),
 MCPR_CUMT_GUBN CHAR(1),
 MCPR_PROC_SEQ0 NUMBER(10, 0),
 MCPR_SEQ0 NUMBER(10, 0),
 MCPR_PRWD_GUBN CHAR(1),
 MCPR_ROTATION CHAR(1),
 MCPR_INDS_CODE CHAR(2),
 MCPR_PROD_CONT NUMBER(10, 0),
 MCPR_PROD_YEAR NUMBER(9, 2),
 MCPR_RUN0_DAYS NUMBER(7, 2),
 MCPR_RUN0_TIME NUMBER(7, 2),
 MCPR_ALL0_CONT NUMBER(10, 0),
 MCPR_ADEP_RATE NUMBER(5, 2),
 MCPR_BULD_COST NUMBER(14, 6),
 MCPR_AVBL_YEAR NUMBER(5, 2),
 MCPR_REPR_RATE NUMBER(5, 2),
 MCPR_ELEC_PRIC NUMBER(14, 6),
 MCPR_IDRT_RATE NUMBER(5, 2),
 MCPR_GME0_RATE NUMBER(5, 2),
 MCPR_PROF_RATE NUMBER(5, 2),
 MCPR_MCRP_MCPR NUMBER(10, 0),
 MCPR_MCRP_RPYR NUMBER(10, 2),
 MCPR_MCRP_COST NUMBER(14, 6),
 MCPR_BDRP_RFAR NUMBER(10, 2),
 MCPR_BDRP_COST NUMBER(14, 6),
 MCPR_REPR_COST NUMBER(14, 6),
 MCPR_ELPR_CAPA NUMBER(7, 2),
 MCPR_ELPR_EXRT NUMBER(5, 2),
 MCPR_ELPR_COST NUMBER(14, 6),
 MCPR_RUN0_DICT NUMBER(14, 6),
 MCPR_RUN0_IDCT NUMBER(14, 6),
 MCPR_DOWN_DICT NUMBER(14, 6),
 MCPR_DOWN_IDCT NUMBER(14, 6),
 MCPR_COST_GUBN CHAR(1),
 MCPR_MCHH_NAME VARCHAR(100),
 MCPR_MNGE_RATE NUMBER(5, 2),
 MCPR_UPDT_DATE CHAR(8),
 MCPR_UPDT_CMAN VARCHAR(8),
 MCPR_INIT_DATE CHAR(8),
 MCPR_INIT_CMAN VARCHAR(8),
 MCPR_MCDT_NAME VARCHAR(100),
 CONSTRAINT CRTBMCPR_PK PRIMARY KEY (
  MCPR_CORP_CODE,
  MCPR_PART_NO,
  MCPR_EONO,
  MCPR_CUMT_NO,
  MCPR_COME_CODE,
  MCPR_CUMT_GUBN,
  MCPR_PROC_SEQ0,
  MCPR_SEQ0
 )
)  
  ]]>
 </sql>

 <sql id="COLS">
  <![CDATA[
WITH T01(C01, C02, C03, C04, C05) AS (
       SELECT 1, 'CRTBMCPR' , 'MCPR_CORP_CODE', 'VARCHAR', 4 FROM DUAL
 UNION SELECT 2, 'CRTBMCPR' , 'MCPR_PART_NO', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 3, 'CRTBMCPR' , 'MCPR_EONO', 'VARCHAR', 20 FROM DUAL
 UNION SELECT 4, 'CRTBMCPR' , 'MCPR_CUMT_NO', 'NUMBER', 22 FROM DUAL
 UNION SELECT 5, 'CRTBMCPR' , 'MCPR_COME_CODE', 'CHAR', 4 FROM DUAL
 UNION SELECT 6, 'CRTBMCPR' , 'MCPR_CUMT_GUBN', 'CHAR', 1 FROM DUAL
 UNION SELECT 7, 'CRTBMCPR' , 'MCPR_PROC_SEQ0', 'NUMBER', 22 FROM DUAL
 UNION SELECT 8, 'CRTBMCPR' , 'MCPR_SEQ0', 'NUMBER', 22 FROM DUAL
 UNION SELECT 9, 'CRTBMCPR' , 'MCPR_PRWD_GUBN', 'CHAR', 1 FROM DUAL
 UNION SELECT 10, 'CRTBMCPR' , 'MCPR_ROTATION', 'CHAR', 1 FROM DUAL
 UNION SELECT 11, 'CRTBMCPR' , 'MCPR_INDS_CODE', 'CHAR', 2 FROM DUAL
 UNION SELECT 12, 'CRTBMCPR' , 'MCPR_PROD_CONT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 13, 'CRTBMCPR' , 'MCPR_PROD_YEAR', 'NUMBER', 22 FROM DUAL
 UNION SELECT 14, 'CRTBMCPR' , 'MCPR_RUN0_DAYS', 'NUMBER', 22 FROM DUAL
 UNION SELECT 15, 'CRTBMCPR' , 'MCPR_RUN0_TIME', 'NUMBER', 22 FROM DUAL
 UNION SELECT 16, 'CRTBMCPR' , 'MCPR_ALL0_CONT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 17, 'CRTBMCPR' , 'MCPR_ADEP_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 18, 'CRTBMCPR' , 'MCPR_BULD_COST', 'NUMBER', 22 FROM DUAL
 UNION SELECT 19, 'CRTBMCPR' , 'MCPR_AVBL_YEAR', 'NUMBER', 22 FROM DUAL
 UNION SELECT 20, 'CRTBMCPR' , 'MCPR_REPR_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 21, 'CRTBMCPR' , 'MCPR_ELEC_PRIC', 'NUMBER', 22 FROM DUAL
 UNION SELECT 22, 'CRTBMCPR' , 'MCPR_IDRT_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 23, 'CRTBMCPR' , 'MCPR_GME0_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 24, 'CRTBMCPR' , 'MCPR_PROF_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 25, 'CRTBMCPR' , 'MCPR_MCRP_MCPR', 'NUMBER', 22 FROM DUAL
 UNION SELECT 26, 'CRTBMCPR' , 'MCPR_MCRP_RPYR', 'NUMBER', 22 FROM DUAL
 UNION SELECT 27, 'CRTBMCPR' , 'MCPR_MCRP_COST', 'NUMBER', 22 FROM DUAL
 UNION SELECT 28, 'CRTBMCPR' , 'MCPR_BDRP_RFAR', 'NUMBER', 22 FROM DUAL
 UNION SELECT 29, 'CRTBMCPR' , 'MCPR_BDRP_COST', 'NUMBER', 22 FROM DUAL
 UNION SELECT 30, 'CRTBMCPR' , 'MCPR_REPR_COST', 'NUMBER', 22 FROM DUAL
 UNION SELECT 31, 'CRTBMCPR' , 'MCPR_ELPR_CAPA', 'NUMBER', 22 FROM DUAL
 UNION SELECT 32, 'CRTBMCPR' , 'MCPR_ELPR_EXRT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 33, 'CRTBMCPR' , 'MCPR_ELPR_COST', 'NUMBER', 22 FROM DUAL
 UNION SELECT 34, 'CRTBMCPR' , 'MCPR_RUN0_DICT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 35, 'CRTBMCPR' , 'MCPR_RUN0_IDCT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 36, 'CRTBMCPR' , 'MCPR_DOWN_DICT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 37, 'CRTBMCPR' , 'MCPR_DOWN_IDCT', 'NUMBER', 22 FROM DUAL
 UNION SELECT 38, 'CRTBMCPR' , 'MCPR_COST_GUBN', 'CHAR', 1 FROM DUAL
 UNION SELECT 39, 'CRTBMCPR' , 'MCPR_MCHH_NAME', 'VARCHAR', 100 FROM DUAL
 UNION SELECT 40, 'CRTBMCPR' , 'MCPR_MNGE_RATE', 'NUMBER', 22 FROM DUAL
 UNION SELECT 41, 'CRTBMCPR' , 'MCPR_UPDT_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 42, 'CRTBMCPR' , 'MCPR_UPDT_CMAN', 'VARCHAR', 8 FROM DUAL
 UNION SELECT 43, 'CRTBMCPR' , 'MCPR_INIT_DATE', 'CHAR', 8 FROM DUAL
 UNION SELECT 44, 'CRTBMCPR' , 'MCPR_INIT_CMAN', 'VARCHAR', 8 FROM DUAL
 UNION SELECT 45, 'CRTBMCPR' , 'MCPR_MCDT_NAME', 'VARCHAR', 100 FROM DUAL
)
SELECT CASE WHEN B.COLUMN_NAME IS NULL THEN 'N' ELSE 'Y' END CHK_YN
      ,A.*
  FROM T01 A
      LEFT OUTER JOIN
       USER_TAB_COLUMNS B
      ON    B.TABLE_NAME  = A.C02
        AND B.COLUMN_NAME = A.C03
 ORDER BY A.C01         
  ]]>
 </sql>

 <sql id="DESC">
  <![CDATA[
WITH T01(C01, C02, C03) AS (
       SELECT 1, 'MCPR_CORP_CODE', '법인코드' FROM DUAL
 UNION SELECT 2, 'MCPR_PART_NO', 'PART NO' FROM DUAL
 UNION SELECT 3, 'MCPR_EONO', 'EO NO' FROM DUAL
 UNION SELECT 4, 'MCPR_CUMT_NO', '계산번호' FROM DUAL
 UNION SELECT 5, 'MCPR_COME_CODE', '공법' FROM DUAL
 UNION SELECT 6, 'MCPR_CUMT_GUBN', '원가계산구분' FROM DUAL
 UNION SELECT 7, 'MCPR_PROC_SEQ0', '가공비SEQ' FROM DUAL
 UNION SELECT 8, 'MCPR_SEQ0', '기계SEQ' FROM DUAL
 UNION SELECT 9, 'MCPR_PRWD_GUBN', '전용범용구분' FROM DUAL
 UNION SELECT 10, 'MCPR_ROTATION', '1일교대시간구분 11.04.01' FROM DUAL
 UNION SELECT 11, 'MCPR_INDS_CODE', '업종 11.04.01' FROM DUAL
 UNION SELECT 12, 'MCPR_PROD_CONT', '년생산갯수 11.04.01' FROM DUAL
 UNION SELECT 13, 'MCPR_PROD_YEAR', '생산년수 11.01.31' FROM DUAL
 UNION SELECT 14, 'MCPR_RUN0_DAYS', '가동일수 11.01.31' FROM DUAL
 UNION SELECT 15, 'MCPR_RUN0_TIME', '가동시간 11.01.31' FROM DUAL
 UNION SELECT 16, 'MCPR_ALL0_CONT', '총생산갯수 11.04.04' FROM DUAL
 UNION SELECT 17, 'MCPR_ADEP_RATE', '부대설비비율 11.01.31' FROM DUAL
 UNION SELECT 18, 'MCPR_BULD_COST', '건물비 11.01.31' FROM DUAL
 UNION SELECT 19, 'MCPR_AVBL_YEAR', '내용년수 11.01.31' FROM DUAL
 UNION SELECT 20, 'MCPR_REPR_RATE', '수선율 11.01.31' FROM DUAL
 UNION SELECT 21, 'MCPR_ELEC_PRIC', '전력단가 11.01.31' FROM DUAL
 UNION SELECT 22, 'MCPR_IDRT_RATE', '간접경비율 11.01.31' FROM DUAL
 UNION SELECT 23, 'MCPR_GME0_RATE', '일반관리비율 11.01.31' FROM DUAL
 UNION SELECT 24, 'MCPR_PROF_RATE', '이익율 11.01.31' FROM DUAL
 UNION SELECT 25, 'MCPR_MCRP_MCPR', '기계상각비_기계가액(천원)' FROM DUAL
 UNION SELECT 26, 'MCPR_MCRP_RPYR', '기계상각비_상각년수' FROM DUAL
 UNION SELECT 27, 'MCPR_MCRP_COST', '기계상각비' FROM DUAL
 UNION SELECT 28, 'MCPR_BDRP_RFAR', '건물상각비_투영면적' FROM DUAL
 UNION SELECT 29, 'MCPR_BDRP_COST', '건물상각비' FROM DUAL
 UNION SELECT 30, 'MCPR_REPR_COST', '수선비' FROM DUAL
 UNION SELECT 31, 'MCPR_ELPR_CAPA', '전력비_용량' FROM DUAL
 UNION SELECT 32, 'MCPR_ELPR_EXRT', '전력비_소비율' FROM DUAL
 UNION SELECT 33, 'MCPR_ELPR_COST', '전력비' FROM DUAL
 UNION SELECT 34, 'MCPR_RUN0_DICT', '단위당가동경비_직접경비' FROM DUAL
 UNION SELECT 35, 'MCPR_RUN0_IDCT', '단위당가동경비_간접경비' FROM DUAL
 UNION SELECT 36, 'MCPR_DOWN_DICT', '단위당비가동경비_직접경비' FROM DUAL
 UNION SELECT 37, 'MCPR_DOWN_IDCT', '단위당비가동경비_간접경비' FROM DUAL
 UNION SELECT 38, 'MCPR_COST_GUBN', '산출구분' FROM DUAL
 UNION SELECT 39, 'MCPR_MCHH_NAME', '기계장비명칭' FROM DUAL
 UNION SELECT 40, 'MCPR_MNGE_RATE', '경영비율 적용계수' FROM DUAL
 UNION SELECT 41, 'MCPR_UPDT_DATE', '수정일' FROM DUAL
 UNION SELECT 42, 'MCPR_UPDT_CMAN', '수정자' FROM DUAL
 UNION SELECT 43, 'MCPR_INIT_DATE', '등록일' FROM DUAL
 UNION SELECT 44, 'MCPR_INIT_CMAN', '등록자' FROM DUAL
 UNION SELECT 45, 'MCPR_MCDT_NAME', '세부장비명' FROM DUAL  
)
SELECT CASE WHEN B.COMMENTS IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,B.TABLE_NAME
      ,B.COMMENTS
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       USER_COL_COMMENTS B
      ON    B.TABLE_NAME  = #table_name#
        AND B.COLUMN_NAME = A.C02
   
  ]]>
 </sql>

 <sq id="SELECT">
  <![CDATA[
WITH T01 (
  MCPR_CORP_CODE
 ,MCPR_PART_NO
 ,MCPR_EONO
 ,MCPR_CUMT_NO
 ,MCPR_COME_CODE
 ,MCPR_CUMT_GUBN
 ,MCPR_PROC_SEQ0
 ,MCPR_SEQ0
 ,MCPR_PRWD_GUBN
 ,MCPR_ROTATION
 ,MCPR_INDS_CODE
 ,MCPR_PROD_CONT
 ,MCPR_PROD_YEAR
 ,MCPR_RUN0_DAYS
 ,MCPR_RUN0_TIME
 ,MCPR_ALL0_CONT
 ,MCPR_ADEP_RATE
 ,MCPR_BULD_COST
 ,MCPR_AVBL_YEAR
 ,MCPR_REPR_RATE
 ,MCPR_ELEC_PRIC
 ,MCPR_IDRT_RATE
 ,MCPR_GME0_RATE
 ,MCPR_PROF_RATE
 ,MCPR_MCRP_MCPR
 ,MCPR_MCRP_RPYR
 ,MCPR_MCRP_COST
 ,MCPR_BDRP_RFAR
 ,MCPR_BDRP_COST
 ,MCPR_REPR_COST
 ,MCPR_ELPR_CAPA
 ,MCPR_ELPR_EXRT
 ,MCPR_ELPR_COST
 ,MCPR_RUN0_DICT
 ,MCPR_RUN0_IDCT
 ,MCPR_DOWN_DICT
 ,MCPR_DOWN_IDCT
 ,MCPR_COST_GUBN
 ,MCPR_MCHH_NAME
 ,MCPR_MNGE_RATE
 ,MCPR_UPDT_DATE
 ,MCPR_UPDT_CMAN
 ,MCPR_INIT_DATE
 ,MCPR_INIT_CMAN
 ,MCPR_MCDT_NAME
) AS (
#DATA_TEXT#
)
SELECT CASE WHEN B.SYS_ID IS NOT NULL THEN 'Y' ELSE 'N' END CHK_YN
      ,A.* 
  FROM T01 A
      LEFT OUTER JOIN 
       CRTBMCPR B
      ON    B.MCPR_CORP_CODE = A.MCPR_CORP_CODE
        AND B.MCPR_PART_NO = A.MCPR_PART_NO
        AND B.MCPR_EONO = A.MCPR_EONO
        AND B.MCPR_CUMT_NO = A.MCPR_CUMT_NO
        AND B.MCPR_COME_CODE = A.MCPR_COME_CODE
        AND B.MCPR_CUMT_GUBN = A.MCPR_CUMT_GUBN
        AND B.MCPR_PROC_SEQ0 = A.MCPR_PROC_SEQ0
        AND B.MCPR_SEQ0 = A.MCPR_SEQ0
  ]]>
 </sq> 

 <sq id="INSERT">
  <![CDATA[
INSERT INTO CRTBMCPR (
  MCPR_CORP_CODE
 ,MCPR_PART_NO
 ,MCPR_EONO
 ,MCPR_CUMT_NO
 ,MCPR_COME_CODE
 ,MCPR_CUMT_GUBN
 ,MCPR_PROC_SEQ0
 ,MCPR_SEQ0
 ,MCPR_PRWD_GUBN
 ,MCPR_ROTATION
 ,MCPR_INDS_CODE
 ,MCPR_PROD_CONT
 ,MCPR_PROD_YEAR
 ,MCPR_RUN0_DAYS
 ,MCPR_RUN0_TIME
 ,MCPR_ALL0_CONT
 ,MCPR_ADEP_RATE
 ,MCPR_BULD_COST
 ,MCPR_AVBL_YEAR
 ,MCPR_REPR_RATE
 ,MCPR_ELEC_PRIC
 ,MCPR_IDRT_RATE
 ,MCPR_GME0_RATE
 ,MCPR_PROF_RATE
 ,MCPR_MCRP_MCPR
 ,MCPR_MCRP_RPYR
 ,MCPR_MCRP_COST
 ,MCPR_BDRP_RFAR
 ,MCPR_BDRP_COST
 ,MCPR_REPR_COST
 ,MCPR_ELPR_CAPA
 ,MCPR_ELPR_EXRT
 ,MCPR_ELPR_COST
 ,MCPR_RUN0_DICT
 ,MCPR_RUN0_IDCT
 ,MCPR_DOWN_DICT
 ,MCPR_DOWN_IDCT
 ,MCPR_COST_GUBN
 ,MCPR_MCHH_NAME
 ,MCPR_MNGE_RATE
 ,MCPR_UPDT_DATE
 ,MCPR_UPDT_CMAN
 ,MCPR_INIT_DATE
 ,MCPR_INIT_CMAN
 ,MCPR_MCDT_NAME
) VALUES (
  #mcpr_corp_code#
 ,#mcpr_part_no#
 ,#mcpr_eono#
 ,#mcpr_cumt_no#
 ,#mcpr_come_code#
 ,#mcpr_cumt_gubn#
 ,#mcpr_proc_seq0#
 ,#mcpr_seq0#
 ,#mcpr_prwd_gubn#
 ,#mcpr_rotation#
 ,#mcpr_inds_code#
 ,#mcpr_prod_cont#
 ,#mcpr_prod_year#
 ,#mcpr_run0_days#
 ,#mcpr_run0_time#
 ,#mcpr_all0_cont#
 ,#mcpr_adep_rate#
 ,#mcpr_buld_cost#
 ,#mcpr_avbl_year#
 ,#mcpr_repr_rate#
 ,#mcpr_elec_pric#
 ,#mcpr_idrt_rate#
 ,#mcpr_gme0_rate#
 ,#mcpr_prof_rate#
 ,#mcpr_mcrp_mcpr#
 ,#mcpr_mcrp_rpyr#
 ,#mcpr_mcrp_cost#
 ,#mcpr_bdrp_rfar#
 ,#mcpr_bdrp_cost#
 ,#mcpr_repr_cost#
 ,#mcpr_elpr_capa#
 ,#mcpr_elpr_exrt#
 ,#mcpr_elpr_cost#
 ,#mcpr_run0_dict#
 ,#mcpr_run0_idct#
 ,#mcpr_down_dict#
 ,#mcpr_down_idct#
 ,#mcpr_cost_gubn#
 ,#mcpr_mchh_name#
 ,#mcpr_mnge_rate#
 ,#mcpr_updt_date#
 ,#mcpr_updt_cman#
 ,#mcpr_init_date#
 ,#mcpr_init_cman#
 ,#mcpr_mcdt_name#
)
  ]]>
 </sq> 

 <sq id="SELECT.YYMM.NN">
  <![CDATA[
#SELECT_YYMM_NN#
  ]]>
 </sq> 
 
</sql-descriptor>
